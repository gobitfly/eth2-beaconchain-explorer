function setValidatorStatus(state){var status=state,depositToPending=document.querySelector(".validator__lifecycle-progress.validator__lifecycle-deposited"),pendingToActive=document.querySelector(".validator__lifecycle-progress.validator__lifecycle-pending"),activeToExited=document.querySelector(".validator__lifecycle-progress.validator__lifecycle-active"),depositedNode=document.getElementById("lifecycle-deposited"),pendingNode=document.getElementById("lifecycle-pending"),activeNode=document.getElementById("lifecycle-active"),exitedNode=document.getElementById("lifecycle-exited"),depositedDoneSet=new Set(["pending","active_online","active_offline","exiting_online","exiting_offline","slashing_online","slashing_offline","exited","slashed"]),pendingDoneSet=new Set(["active_online","active_offline","exiting_online","exiting_offline","slashing_online","slashing_offline","exited","slashed"]),activeToExitSet=new Set(["exiting_online","exiting_offline","slashing_online","slashing_offline"]),activeOnlineSet=new Set(["active_online","exiting_online","slashing_online"]),activeOfflineSet=new Set(["active_offline","exiting_offline","slashing_offline"]),activeDoneSet=new Set(["exited","slashed"]);depositedDoneSet.has(status)&&(depositedNode.classList.add("done"),depositToPending.classList.add("complete")),pendingDoneSet.has(status)&&(pendingNode.classList.add("done"),pendingToActive.classList.add("complete")),activeDoneSet.has(status)&&(activeNode.classList.add("done"),activeToExited.classList.add("complete")),activeToExitSet.has(status)&&(activeToExited.classList.add("active"),exitedNode.classList.add("active"),(status==="slashing_online"||status==="slashing_offline")&&exitedNode.classList.add("slashed")),activeOnlineSet.has(status)&&activeNode.classList.add("online"),activeOfflineSet.has(status)&&activeNode.classList.add("offline"),status==="slashed"&&exitedNode.classList.add("failed"),status==="exited"&&exitedNode.classList.add("done"),status==="deposited"&&depositedNode.classList.add("active"),status==="deposited_valid"&&(depositedNode.classList.add("done"),depositToPending.classList.add("active"),pendingNode.classList.add("active")),status==="deposited_invalid"&&depositedNode.classList.add("failed"),status==="pending"&&(pendingNode.classList.add("done"),pendingToActive.classList.add("active"),activeNode.classList.add("active"))}function setupDashboardButtons(validatorIdx){var validators=[];$(document).ready(function(){updateDashboardButtons(),$("#remove-from-dashboard-button").click(function(){validators=validators.filter(function(v,i,a){return!(v===validatorIdx)}),validators.sort(sortValidators),localStorage.setItem("dashboard_validators",JSON.stringify(validators)),$("#add-to-dashboard-button").show(),$("#remove-from-dashboard-button").hide(),$(this).tooltip("hide")}),$("#add-to-dashboard-button").click(function(){validators.push(validatorIdx),validators.sort(sortValidators),localStorage.setItem("dashboard_validators",JSON.stringify(validators)),$("#add-to-dashboard-button").hide(),$("#remove-from-dashboard-button").show(),$(this).tooltip("hide")})}),window.addEventListener("storage",function(e){updateDashboardButtons()});function updateDashboardButtons(){var validatorIsInDashboard=!1,validatorsStr=localStorage.getItem("dashboard_validators");if(validatorsStr)try{validators=JSON.parse(validatorsStr)}catch(e){console.error("error parsing localStorage.dashboard_validators",e),validators=[]}else validators=[];for(var i=0;i<validators.length;i++)if(validators[i]===validatorIdx){validatorIsInDashboard=!0;break}$("#remove-from-dashboard-button").hide(),$("#add-to-dashboard-button").hide(),validatorIsInDashboard?$("#remove-from-dashboard-button").show():$("#add-to-dashboard-button").show()}function sortValidators(a,b){var ai=parseInt(a),bi=parseInt(b);return ai-bi}}
